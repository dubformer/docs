---
title: 'Create & Upload Artifact'
api: 'POST https://studio.dubformer.ai/api/v1/artifacts/create'
description: 'Create a new artifact and upload a source file'
---

## Request Body

<Note>
  Can handle files up to 5GB.
</Note>

<ParamField body="name" type="string" required>
  Name of the artifact being uploaded. E.g. `source_video.mp4`
</ParamField>

<ParamField body="type" type="string" required>
  Type of artifact being uploaded. Must be one of: `video`, `audio`, or `script`.
</ParamField>

### Upload Methods

Choose **one** of the following methods to provide your source file:

<Note>
  **1. Presigned URL (recommended for local files)**

  Don't include any source parameters (`url`, `s3Path`, or `fragments`). We'll return a temporary presigned URL that you can use to upload your file directly to our storage using a PUT request.

  **Best for:** Uploading files from your local machine or when you need full control over the upload process.
</Note>

<Note>
  **2. Direct URL (download from web)**

  Provide a `url` parameter with a publicly accessible link to your file. We'll download the file asynchronously from the provided URL.

  **Best for:** When your file is already hosted somewhere (CDN, public cloud storage, etc.) and you want us to fetch it.
</Note>

<ParamField body="url" type="string" optional>
  Direct URL to download the artifact from an external source. Mutually exclusive with `s3Path` and `fragments`.
</ParamField>

<Note>
  **3. S3 Path (copy from your S3 bucket)**

  Provide an `s3Path` parameter pointing to a file in your AWS S3 bucket (e.g., `s3://my-bucket/path/to/video.mp4`). We'll copy the file directly from your S3 storage without downloading/re-uploading.

  **Best for:** Files already stored in S3. This is the fastest method as it avoids internet transfers.

  **Setup required:** You must first attach AWS S3 credentials to your API key in your dashboard settings.
</Note>

<ParamField body="s3Path" type="string" optional>
  S3 path to the artifact in your configured S3 storage. Requires S3 credentials to be configured for your API key. Mutually exclusive with `url` and `fragments`.
</ParamField>

<Note>
  **4. Fragments (concatenate multiple clips)**

  Provide a `fragments` array with multiple video/audio clips. We'll fetch each fragment (from URL or S3) and concatenate them into a single artifact. Each fragment must specify either `url` or `s3Path`, plus a `startTime`.

  **Best for:** Combining multiple clips into one file before processing.

  **Limitations:** Not supported for `script` type artifacts. All fragments must be in the same format (codec, resolution, frame rate).
</Note>

<ParamField body="fragments" type="array" optional>
  Array of media fragments to concatenate into a single artifact. Not supported for `script` type. Mutually exclusive with `url` and `s3Path`. Each fragment must contain:

  - Either `url` (string) OR `s3Path` (string) - source location of the fragment
  - `startTime` (number) - start time in seconds (must be >= 0)
</ParamField>

<Tip>
  **Using AWS S3?** To enable S3 uploads (method 3) or S3 fragments (method 4), attach your AWS credentials to your API key. You can configure this in your dashboard settings under API Keys → Select your key → S3 Credentials.
</Tip>


## Response

### Presigned Upload Response

<ResponseField name="artifactId" type="string">
  Unique identifier for the created artifact.
</ResponseField>

<ResponseField name="presignedUploadUrl" type="string">
  Presigned S3 URL for uploading the file via PUT request. Valid for limited time.
</ResponseField>

<ResponseField name="expiresAt" type="string">
  ISO 8601 timestamp when the presigned upload URL expires (typically 15 minutes from creation).
</ResponseField>

### Direct URL, S3 Path, and Fragments Response

Returns a complete artifact object with the following fields:

<ResponseField name="id" type="string">
  Unique identifier for the artifact.
</ResponseField>

<ResponseField name="fileName" type="string">
  Name of the uploaded file.
</ResponseField>

<ResponseField name="type" type="string">
  Type of artifact: `video`, `audio`, or `script`.
</ResponseField>

<ResponseField name="status" type="string">
  Current processing status. Initial value is `created`. Will change to `ready`, `failed`, or other states as processing progresses.
</ResponseField>

<ResponseField name="uploadMethod" type="string">
  Upload method used: `direct_url` (for Direct URL and S3 Path methods) or `fragments` (for Fragment concatenation).
</ResponseField>

<ResponseField name="size" type="number | null">
  File size in bytes. Will be `null` until the file is processed.
</ResponseField>

<ResponseField name="duration" type="number | null">
  Duration in seconds (for video/audio). Will be `null` until the file is processed or for script type.
</ResponseField>

<ResponseField name="errorMessage" type="string | null">
  Error message if processing failed. Will be `null` unless status is `failed`.
</ResponseField>

<ResponseField name="s3Path" type="string">
  Internal S3 path where the artifact is stored.
</ResponseField>

<ResponseField name="s3Bucket" type="string">
  S3 bucket name where the artifact is stored.
</ResponseField>

<ResponseField name="createdAt" type="string">
  ISO 8601 timestamp when the artifact was created.
</ResponseField>

<ResponseField name="updatedAt" type="string">
  ISO 8601 timestamp when the artifact was last updated.
</ResponseField>

<ResponseField name="company" type="object | undefined">
  Company information object containing `id` and `name` fields. May be undefined depending on context.
</ResponseField>

<ResponseField name="createdBy" type="object | undefined">
  User information object containing `id` and `name` fields for the user who created the artifact. May be undefined depending on context.
</ResponseField>

<RequestExample>
```bash Request (Presigned URL)
curl -X POST \
  https://studio.dubformer.ai/api/v1/artifacts/create \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "name": "source_video.mp4",
    "type": "video"
  }'
```

```bash Request (Direct URL)
curl -X POST \
  https://studio.dubformer.ai/api/v1/artifacts/create \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "name": "source_video.mp4",
    "type": "video",
    "url": "https://example.com/video.mp4"
  }'
```

```bash Request (S3 Path)
curl -X POST \
  https://studio.dubformer.ai/api/v1/artifacts/create \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "name": "source_video.mp4",
    "type": "video",
    "s3Path": "s3://my-bucket/path/to/video.mp4"
  }'
```

```bash Request (Fragments)
curl -X POST \
  https://studio.dubformer.ai/api/v1/artifacts/create \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "name": "concatenated_video.mp4",
    "type": "video",
    "fragments": [
      {
        "url": "https://example.com/part1.mp4",
        "startTime": 0
      },
      {
        "url": "https://example.com/part2.mp4",
        "startTime": 30
      }
    ]
  }'
```
</RequestExample>

<ResponseExample>
```json Response (Presigned URL)
{
  "artifactId": "67a8f9b0c1d2e3f4g5h6i7j8",
  "presignedUploadUrl": "https://storage.dubformer.ai/uploads/67a8f9b0c1d2e3f4g5h6i7j8/source_video.mp4?X-Amz-Algorithm=...",
  "expiresAt": "2026-01-12T12:30:00.000Z"
}
```

```json Response (Direct URL or S3 Path)
{
  "id": "67a8f9b0c1d2e3f4g5h6i7j8",
  "fileName": "source_video.mp4",
  "type": "video",
  "status": "created",
  "uploadMethod": "direct_url",
  "size": null,
  "duration": null,
  "errorMessage": null,
  "s3Path": "uploads/67a8f9b0c1d2e3f4g5h6i7j8/source_video.mp4",
  "s3Bucket": "dubformer-artifacts",
  "createdAt": "2026-01-12T12:00:00.000Z",
  "updatedAt": "2026-01-12T12:00:00.000Z",
  "company": {
    "id": "507f1f77bcf86cd799439011",
    "name": "Acme Inc"
  },
  "createdBy": {
    "id": "507f191e810c19729de860ea",
    "name": "John Doe"
  }
}
```

```json Response (Fragments)
{
  "id": "67a8f9b0c1d2e3f4g5h6i7j8",
  "fileName": "concatenated_video.mp4",
  "type": "video",
  "status": "created",
  "uploadMethod": "fragments",
  "size": null,
  "duration": null,
  "errorMessage": null,
  "s3Path": "uploads/67a8f9b0c1d2e3f4g5h6i7j8/concatenated_video.mp4",
  "s3Bucket": "dubformer-artifacts",
  "createdAt": "2026-01-12T12:00:00.000Z",
  "updatedAt": "2026-01-12T12:00:00.000Z",
  "company": {
    "id": "507f1f77bcf86cd799439011",
    "name": "Acme Inc"
  },
  "createdBy": {
    "id": "507f191e810c19729de860ea",
    "name": "John Doe"
  }
}
```
</ResponseExample>

## Upload Methods

### Presigned Upload

When using presigned upload (no `url`, `s3Path`, or `fragments` in the request), you'll receive a `presignedUploadUrl`. Upload your file using a PUT request:

```bash
curl -X PUT \
  "https://storage.dubformer.ai/uploads/1a2b3c4d5e6f7g8h9i0j?signed=..." \
  -H 'Content-Type: application/octet-stream' \
  --data-binary '@/path/to/your/source_video.mp4'
```

<Note>
  The upload URL is valid only for the specified time in the `expiresAt` field.
  Make sure to complete your upload before this time expires.
</Note>

### URL Upload

When providing a `url` parameter, the system will download the file from the specified URL asynchronously. The artifact will be created immediately with a `pending` status.

### S3 Upload

When providing an `s3Path` parameter, the system will copy the file from your configured S3 storage. This requires S3 credentials to be configured for your API key.

### Fragment Concatenation

When providing `fragments`, the system will download or copy each fragment and concatenate them into a single artifact. Each fragment must specify either a `url` or `s3Path`, and a `startTime`. This is not supported for `script` type artifacts.

<Warning>
  For URL, S3, and Fragment uploads, the artifact processing happens asynchronously. Monitor the artifact status to know when processing is complete.
</Warning> 